<div th:fragment="header">
    <!DOCTYPE html>
    <html lang="es" xmlns:th="http://www.thymeleaf.org">
        <head>
            <title>E-commerce - Java Spring</title>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">

            <!-- CSS -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        </head>

        <body>
            <header class="bg-dark py-3">
                <div class="container d-flex align-items-center justify-content-between gap-4">
                    <div class="d-flex align-items-center gap-2">
                        <a th:href="@{/}" class="fs-2 navbar-brand text-white">Spring eCommerce</a>

                        <form th:action="@{/buscar}" method="POST" class="d-flex gap-1 my-2">
                            <input type="text" class="form-control w-auto" placeholder="Buscar" name="busqueda" autocomplete="off" required>
                            <button type="submit" class="btn btn-primary">Buscar</button>
                        </form>
                    </div>

                    <!-- LoggedIn user -->
                    <div th:if="${isLoggedIn}">
                        <nav class="d-flex align-items-center gap-3">
                            <a th:href="@{/carrito}" class="flex-grow-1 text-decoration-none text-light">Ver Carrito</a>
                            
                            <!-- Admin user -->
                            <div th:if="${isAdmin}" class="dropdown flex-grow-1">
                                <button 
                                    class="btn btn-secondary dropdown-toggle" 
                                    type="button" 
                                    id="dropdownAdminNav"
                                    data-bs-toggle="dropdown"
                                    aria-expanded="false"
                                    >
                                    Admin
                                </button>
                                
                                <ul class="dropdown-menu" aria-labelledby="dropdownAdminNav">
                                    <li><a th:href="@{/productos}" class="dropdown-item">Productos</a></li>
                                </ul>
                                
                            </div>
                        </nav>
                    </div>

                    <!-- Not logged in user -->
                    <div th:unless="${isLoggedIn}">
                        <nav class="d-flex align-items-center gap-2">
                            <a th:href="@{/login}" class="btn btn-outline-light">Iniciar sesi√≥n</a>
                            <a th:href="@{/signup}" class="btn btn-outline-success">Crear cuenta</a>
                        </nav>
                    </div>
                </div>
            </header>
</div>

<!-- Content -->

<div th:fragment="footer">
            <footer class="bg-dark text-white py-4">
                <div class="container">
                    <p class="m-0 text-center">Copyright &COPY; Spring eCommerce 2022</p>   
                </div>
            </footer>
        
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
            <script src="/app.js"></script>

        </body>
    </html>
</div>
